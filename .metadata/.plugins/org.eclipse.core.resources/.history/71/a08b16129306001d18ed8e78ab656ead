package com.demo;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.cfg.Configuration;

import com.keys.many.Employee;

public class ForeignKey_OnetoOne {

	public static void main(String[] args) {
		SessionFactory factory = new Configuration().configure("hibernate.cfg.xml").buildSessionFactory();

		Employee emp = new Employee();
		emp.setEmpname("Uday");
		emp.setCity("Indore");

		Department dept = new Department();
		dept.setDeptname("Mech");

		Employee emp1 = new Employee();
		emp1.setEmpname("vipul");
		emp1.setCity("Indore");

		Department dept1 = new Department();
		dept1.setDeptname("Softwate");

		// Set in employees
		emp.setDept(dept);
		emp1.setDept(dept1);

		Employee emp3 = new Employee();
		emp3.setEmpname("Rahul");
		emp3.setCity("Indore");

		Department dept3 = new Department();
		dept3.setDeptname("Production");

		// Set in employees
		emp3.setDept(dept1);

		Session session = factory.openSession();
		session.beginTransaction();

		session.save(emp);
		session.save(dept);
		session.save(emp1);
		session.save(dept1);
		session.save(emp3);
		session.save(dept3);
		session.getTransaction().commit();

		/*
		 * Employee empp = (Employee) session.get(Employee.class, 1);
		 * System.out.println(empp.getEmpid()); System.out.println(empp.getEmpname());
		 * System.out.println(empp.getDept().getDeptname());
		 */

		session.close();
	}

}
